<!doctype html><html class="dark light"><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><title>
         Git Submodules, an Overview
        
    </title><meta content="Git Submodules, an Overview" property=og:title><link href=/icon/favicon.png rel=icon type=image/png><link href=https://gcavalcante.com/fonts.css rel=stylesheet><script async data-goatcounter=https://gscavalcante.goatcounter.com/count src=https://gcavalcante.com/js/count.js></script><noscript><img src="https://gscavalcante.goatcounter.com//count?p=/posts/git-submodules-an-overview/&t=Git Submodules, an Overview"></noscript><link title="Gabriel Cavalcante" href=https://gcavalcante.com/atom.xml rel=alternate type=application/atom+xml><link href=https://gcavalcante.com/theme/light.css rel=stylesheet><link href=https://gcavalcante.com/theme/dark.css id=darkModeStyle rel=stylesheet><link href=https://gcavalcante.com/main.css media=screen rel=stylesheet><link href=https://gcavalcante.com/css/image.css rel=stylesheet><link href=https://gcavalcante.com/css/tags.css rel=stylesheet><body><div class=content><header><div class=main><a href=https://gcavalcante.com>Gabriel Cavalcante</a><div class=socials><a class=social href=https://linkedin.com/in/cavalcante rel=me> <img alt=linkedin src=/social_icons/linkedin.svg> </a><a class=social href=https://github.com/gscavalcante rel=me> <img alt=github src=/social_icons/github.svg> </a><a class=social href=https://gcavalcante.com/atom.xml rel=me> <img alt=feed src=/social_icons/rss.svg> </a></div></div><nav><a href=/posts style=margin-left:.7em>/posts</a><a href=/projects style=margin-left:.7em>/projects</a><a href=/about style=margin-left:.7em>/about</a> | <a href=javascript:void(0) id=dark-mode-toggle onclick=toggleTheme()> <img id=sun-icon src=/feather/sun.svg style=filter:invert(1)> <img id=moon-icon src=/feather/moon.svg> </a><script src=https://gcavalcante.com/js/themetoggle.js></script></nav></header><main><article><div class=title><div class=page-header>Git Submodules, an Overview<span class=primary-color style=font-size:1.6em>.</span></div><div class=meta>Posted on <time>2022-08-08</time></div></div><h1>Table of Contents</h1><ul><li><a href=https://gcavalcante.com/posts/git-submodules-an-overview/#preface>Preface</a><li><a href=https://gcavalcante.com/posts/git-submodules-an-overview/#what-is-a-submodule>What is a submodule?</a><li><a href=https://gcavalcante.com/posts/git-submodules-an-overview/#adding-a-submodule>Adding a Submodule</a> <ul><li><a href=https://gcavalcante.com/posts/git-submodules-an-overview/#adding-from-a-branch>Adding From a Branch</a></ul><li><a href=https://gcavalcante.com/posts/git-submodules-an-overview/#update-a-submodule>Update a Submodule</a><li><a href=https://gcavalcante.com/posts/git-submodules-an-overview/#how-to-delete-a-submodule>How to Delete a Submodule</a></ul><section class=body><h1 id=preface>Preface</h1><p>My first contact with the <strong>submodule</strong> was a happy accident when looking at how to create my blog. Reading the <a href=https://www.getzola.org/>Zola</a>'s documentation. It was recommended to use when adding a new theme to the project.<p>With the flow to update, fix, and improve my blog, I had some issues understanding how the <strong>submodule</strong> works. So, I've decided to create this article with some information. Enjoy.<h1 id=what-is-a-submodule>What is a submodule?</h1><p>The submodule allows you to add another git project inside your project. But why? Have you ever tried to get some project to your project? Probably the approach will be: download the repository (<em>zip file</em>) and unzip your project. If you need to update, you'll do it everything again. Seems like a lot of work, and the submodule will remove for you.<p>This submodule will not be pushed with your commits. And when downloading the project will also download the submodule. The update will be one git command.<p>But it's not just that. You will be able to keep your custom codes in the library, making it easy to merge when a new version comes out.<h1 id=adding-a-submodule>Adding a Submodule</h1><p>The command to add a submodule is a simple line:<pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#bf616a>git</span><span> submodule &LTurl> &LTname>
</span></code></pre><p>Ok, you need more information before continuing. The <strong>URL</strong> is a git endpoint to download the project. And the <strong>name</strong> is how you want to have this submodule called on your project.<p>Example:<pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#bf616a>git</span><span> submodule https://github.com/gscavalcante/apollo.git themes/apollo
</span></code></pre><p>This execution will create a folder <code>themes/apollo</code> with the content of this repository in the last commit at the root of your project. Since my example have a name separated by a slash (<em>/</em>), it will create a folder with the submodule inside.<pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#96b5b4>.
</span><span style=color:#bf616a>├──</span><span> README.md
</span><span style=color:#bf616a>├──</span><span> content
</span><span style=color:#bf616a>│</span><span>   └── about.md
</span><span style=color:#bf616a>├──</span><span> sass
</span><span style=color:#bf616a>├──</span><span> static
</span><span style=color:#bf616a>├──</span><span> templates
</span><span style=color:#bf616a>└──</span><span> themes
</span><span>    </span><span style=color:#bf616a>└──</span><span> apollo
</span><span>
</span><span style=color:#bf616a>6</span><span> directories, 2 files
</span></code></pre><p>Now you can use everything from this project on your own.<h2 id=adding-from-a-branch>Adding From a Branch</h2><p>Another way to add the submodule is with a branch, so it'll not stay at a specific <em>SHA1</em> when updating. To accomplish this<pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#bf616a>git</span><span> submodule</span><span style=color:#bf616a> -b </span><span>&LTbranch> &LTurl> &LTname>
</span></code></pre><p>But if you already have the submodule added, you can change the <code>.gitmodules</code> file, for example:<pre class=language-.gitmodules data-lang=.gitmodules style=background:#2b303b;color:#c0c5ce><code class=language-.gitmodules data-lang=.gitmodules><span style=color:#b48ead>[submodule "&LTname>"]
</span><span>    </span><span style=color:#bf616a>path </span><span>= &LTpath>
</span><span>    </span><span style=color:#bf616a>url </span><span>= &LTurl>
</span><span>    </span><span style=color:#bf616a>branch </span><span>= &LTbranch>
</span></code></pre><p>Add the option <strong>branch</strong> with the one you want to get this submodule.<h1 id=update-a-submodule>Update a Submodule</h1><p>Update from a remote repository is easy when you track with a branch. For this, run the command below:<pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#bf616a>git</span><span> submodule update</span><span style=color:#bf616a> --remote
</span></code></pre><p>If your submodule is not following from a branch, then go back and read <a href=https://gcavalcante.com/posts/git-submodules-an-overview/#adding-from-a-branch>Adding From a Branch</a>.<h1 id=how-to-delete-a-submodule>How to Delete a Submodule</h1><pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#bf616a>git</span><span> rm &LTsubmodule-name>
</span></code></pre><p>But the old directory will stay at <code>.git/modules/&LTpath-to_submodule></code>. Delete this folder, and you can download another submodule with the same name without a problem.<pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#bf616a>rm -rf</span><span> .git/modules/&LTpath-to_submodule>
</span></code></pre></section><div class=post-tags><nav class="nav tags"><ul class=tags><li><a href=https://gcavalcante.com/tags/git/>git</a></ul></nav></div></article></main></div>